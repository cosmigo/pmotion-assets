<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="description" content="Description of Cosmigo Pro Motion file I/O and DDE interfaces for plugin developers.">
<meta name="keywords" content="cosmigo, pro motion ng, plugins, pixel art, pixelart, software">
<meta name="author" content="Jan Zimmermann">
<meta name="copyright" content="Copyright (c) Jan Zimmermann, Apache License v2.0.">
<title>Pro Motion Developer Interface</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock pre.nowrap,.literalblock pre.nowrap pre,.listingblock pre.nowrap,.listingblock pre.nowrap pre{white-space:pre;word-wrap:normal}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #dddddf}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./css/styles.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Developer Interface</h1>
<div class="details">
<span id="author" class="author">Jan Zimmermann</span><br>
<span id="email" class="email"><a href="mailto:jan@cosmigo.com">jan@cosmigo.com</a></span><br>
<span id="revnumber">revision 1.0.0,</span>
<span id="revdate">2019-02-17</span>
<br><span id="revremark">PMNG v7.1.8.0</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_file_io_plugin_interface">File I/O Plugin Interface</a>
<ul class="sectlevel2">
<li><a href="#_initialize">initialize()</a></li>
<li><a href="#_setprogresscallback">setProgressCallback()</a></li>
<li><a href="#_geterrormessage">getErrorMessage()</a></li>
<li><a href="#_getfiletypeid">getFileTypeId()</a></li>
<li><a href="#_isreadsupported">isReadSupported()</a></li>
<li><a href="#_iswritesupported">isWriteSupported()</a></li>
<li><a href="#_iswritetruecolorsupported">isWriteTrueColorSupported()</a></li>
<li><a href="#_getfileboxdescription">getFileBoxDescription()</a></li>
<li><a href="#_getfileextension">getFileExtension()</a></li>
<li><a href="#_setfilename">setFilename()</a></li>
<li><a href="#_canhandle">canHandle()</a></li>
<li><a href="#_loadbasicdata">loadBasicData()</a></li>
<li><a href="#_getwidth">getWidth()</a></li>
<li><a href="#_getheight">getHeight()</a></li>
<li><a href="#_getimagecount">getImageCount()</a></li>
<li><a href="#_canextractpalette">canExtractPalette()</a></li>
<li><a href="#_getrgbpalette">getRgbPalette()</a></li>
<li><a href="#_gettransparentcolor">getTransparentColor()</a></li>
<li><a href="#_isalphaenabled">isAlphaEnabled()</a></li>
<li><a href="#_loadnextimage">loadNextImage()</a></li>
<li><a href="#_beginwrite">beginWrite()</a></li>
<li><a href="#_writenextimage">writeNextImage()</a></li>
<li><a href="#_finishprocessing">finishProcessing()</a></li>
</ul>
</li>
<li><a href="#_sample_file_io_plugins">Sample File I/O Plugins</a>
<ul class="sectlevel2">
<li><a href="#_sim_file_format">SIM file format</a></li>
<li><a href="#_san_file_format">SAN file format</a></li>
</ul>
</li>
<li><a href="#_manipulation_plugin_interface">Manipulation Plugin Interface</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The articles below contain interface descriptions and sample applications for two types of plugin interfaces.
The file i/o interface is used to create individual image or animation file filters.
The DDE plugin interface is used to let a plugin access image data for individual processing.
If you have any questions concerning the interfaces please send an email to <a href="mailto:jan@cosmigo.com">Jan Zimmermann</a>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_file_io_plugin_interface">File I/O Plugin Interface</a></p>
</li>
<li>
<p><a href="#_sample_file_io_plugins">Sample File I/O Plugins</a></p>
</li>
<li>
<p><a href="#_manipulation_plugin_interface">Manipulation Plugin Interface</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_file_io_plugin_interface"><a class="anchor" href="#_file_io_plugin_interface"></a>File I/O Plugin Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With the file plugin interface you can create a DLL implementing the file input/output logic using some predefined functions.</p>
</div>
<div class="paragraph">
<p>The DLL must the be placed into the <code>plugins</code> subfolder within the pro motion installation folder.
By then it is automatically loaded into the application on startup and can be used like any other built in image or animation file type.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Since Pro Motion NG version 7.1.8, plugins can also be used with the Free Edition.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The DLL must just implement a couple of functions.
They are called by the application as described.
See <a href="#_sample_file_io_plugins">Sample File I/O Plugins</a> to have a quick start.
They come with full C++ source (MS Visual Studio) so you can check them out in whole detail.</p>
</div>
<div class="sect2">
<h3 id="_initialize"><a class="anchor" href="#_initialize"></a>initialize()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> <span class="hl kwd">initialize</span><span class="hl opt">(</span> language<span class="hl opt">:</span> <span class="hl kwb">PChar</span><span class="hl opt">;</span> <span class="hl kwa">var</span> version<span class="hl opt">:</span> <span class="hl kwb">word</span><span class="hl opt">;</span> <span class="hl kwa">var</span> animation<span class="hl opt">:</span> <span class="hl kwb">boolean</span> <span class="hl opt">):</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span> __stdcall <span class="hl kwd">initialize</span><span class="hl opt">(</span> <span class="hl kwb">char</span><span class="hl opt">*</span> language<span class="hl opt">,</span> <span class="hl kwb">unsigned short</span><span class="hl opt">*</span> version<span class="hl opt">,</span> <span class="hl kwb">bool</span><span class="hl opt">*</span> animation <span class="hl opt">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>General initialization function.
It is called once the plugin is registered by the application for further use.
It is the first function that will be called at all. If an error occurs then the function must return false.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>language</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">two character ISO language code that is currently used to display translated messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of the plugin interface version.
  Must return &#8220;1&#8221; to be a valid plugin.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>animation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set to true if the plugin is used for accessing animation files.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> if successful, <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_setprogresscallback"><a class="anchor" href="#_setprogresscallback"></a>setProgressCallback()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">procedure</span> <span class="hl kwd">setProgressCallback</span><span class="hl opt">(</span> progressCallback<span class="hl opt">:</span> TProgressCallback <span class="hl opt">);</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">void</span> __stdcall <span class="hl kwd">setProgressCallback</span><span class="hl opt">(</span> ProgressCallback progressCallback <span class="hl opt">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use this function to define a progress callback that is called by the plugin to give user feedback about the progress of loading/saving image data.
A percent value of 0 should make the progress display to hide and values between 1 and 100 should make the display visible.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>progressCallback</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>A function to be called when progress changes</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi">type TProgressCallback= procedure (percent: integer); stdcall;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp">typedef void (__stdcall *ProgressCallback)( int progress )</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_geterrormessage"><a class="anchor" href="#_geterrormessage"></a>getErrorMessage()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getErrorMessage<span class="hl opt">:</span> <span class="hl kwb">PChar</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">char</span><span class="hl opt">*</span> __stdcall <span class="hl kwd">getErrorMessage</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Typically only certain functions are allowed to set an error message to not exaggerate error handling.
Right after executing those functions <code>getErrorMessage()</code> is called by the application.
If there is an error message then the result of the failing function is dismissed and the error is displayed.</p>
</div>
<div class="paragraph">
<p>If any of the functions causes an error then the application can read this error message using this function.
As soon as a function is called the error message must be reset and it is set as soon as a function fails.
The application must check for errors after each function that can create an error! Some functions may not
create an error to prevent useless checking after every function call.</p>
</div>
<div class="paragraph">
<p>The plugin must reset its internal error message after <code>getErrorMessage()</code> was called.
Since the application can only reset the error by calling <code>getErrorMessage()</code> every function
could theoretically set an error. But if it is not explicitly allowed then the error message is not checked
until a function is called that is allowed to set an error. This function will fail then instead of the one setting the error.
The plugin should therefore only set errors when allowed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The error message or <code>nil</code>/<code>NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_getfiletypeid"><a class="anchor" href="#_getfiletypeid"></a>getFileTypeId()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getFileTypeId<span class="hl opt">:</span> <span class="hl kwb">PChar</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">char</span><span class="hl opt">*</span> __stdcall <span class="hl kwd">getFileTypeId</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The plugin must return a unique identifier that is a name/alias for the plugin implementation.
It is used internally for example if the user saved the file via this plugin and uses the &#8220;save again&#8221; function.
In this case the application must know which plugin to use.
The file extension is not unique enough.
There could be several load/save plugins for &#8220;bmp-files&#8221;.
The id may be a series of numbers/characters like a GUID, but it may also be a package descriptor like used in Java language, e.g. &#8220;de.mycompany.promotion.ioplugin.png&#8221;</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unique identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_isreadsupported"><a class="anchor" href="#_isreadsupported"></a>isReadSupported()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> isReadSupported<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">isReadSupported</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The application needs to know if the plugin can read the file format to place it into the file open/import dialogs.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, if read is supported, <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_iswritesupported"><a class="anchor" href="#_iswritesupported"></a>isWriteSupported()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> isWriteSupported<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">isWriteSupported</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The application needs to know if the plugin can write the file format to place it into the file save/export dialogs.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, if write is supported, <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_iswritetruecolorsupported"><a class="anchor" href="#_iswritetruecolorsupported"></a>isWriteTrueColorSupported()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> isWriteTrueColorSupported<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">isWriteTrueColorSupported</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The application needs to know if the plugin can write true color data to the file format.
Certain processes like auto flattening layers may create colors that don&#8217;t fit into the 256 colors palette.
In this case the image data can be optionally stored as true color.
If the plugin does not support true color then the image colors are reduced to 256 indexed colors.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, if write is supported, <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_getfileboxdescription"><a class="anchor" href="#_getfileboxdescription"></a>getFileBoxDescription()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getFileBoxDescription<span class="hl opt">:</span> <span class="hl kwb">PChar</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">char</span><span class="hl opt">*</span> __stdcall <span class="hl kwd">getFileBoxDescription</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To place the plugin into file i/o dialogs it must give a file type description that is displayed in the file filter box, e.g. &#8220;BMP Windows Bitmap RLE&#8221;.
Please use the file type abbreviation (usually the file extension) at first place so that it can be sorted correctly.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The file description in the selected language.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_getfileextension"><a class="anchor" href="#_getfileextension"></a>getFileExtension()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getFileExtension<span class="hl opt">:</span> <span class="hl kwb">PChar</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">char</span><span class="hl opt">*</span> __stdcall <span class="hl kwd">getFileExtension</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This function must return the file extension (without &#8220;.&#8221;) to be used in the file filter.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The file extension supported by this plugin.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_setfilename"><a class="anchor" href="#_setfilename"></a>setFilename()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">procedure</span> <span class="hl kwd">setFilename</span><span class="hl opt">(</span> filename<span class="hl opt">:</span> <span class="hl kwb">PChar</span> <span class="hl opt">);</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">void</span>  __stdcall <span class="hl kwd">setFilename</span><span class="hl opt">(</span> <span class="hl kwb">char</span><span class="hl opt">*</span> filename <span class="hl opt">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Indicates that a new file is to be processed and gives the corresponding file name.
The plugin should reset internal structures if the file name is different to the one set before.
At this point it is undefined if the file is to be written or read!</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>filename</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full path and name of the file to process.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_canhandle"><a class="anchor" href="#_canhandle"></a>canHandle()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> canHandle<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">canHandle</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This function is called to check if the selected file can be handled for reading by the plugin.
The plugin should open and check the file accordingly.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, if the file can be processed.
  If <code>false</code> is returned then an error message must be set saying why it can not be handled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_loadbasicdata"><a class="anchor" href="#_loadbasicdata"></a>loadBasicData()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> loadBasicData<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">loadBasicData</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Before reading graphic data this function is called to make the plugin check and load graphic file information such as dimensions, color palette and the like.
Other functions rely on this function to be called first, such as <a href="#_getwidth"><code>getWidth()</code></a>!</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, if the file data could be loaded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_getwidth"><a class="anchor" href="#_getwidth"></a>getWidth()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getWidth<span class="hl opt">:</span> <span class="hl kwb">integer</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">int</span>   __stdcall <span class="hl kwd">getWidth</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dimension request for width when loading the file.</p>
</div>
<div class="paragraph">
<p><a href="#_loadbasicdata"><code>loadBasicData()</code></a> has been called by the application before using this function to ensure that this information is present.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The width of the image that is to be loaded in Pixels or -1 if the function fails.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_getheight"><a class="anchor" href="#_getheight"></a>getHeight()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getHeight<span class="hl opt">:</span> <span class="hl kwb">integer</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">int</span>   __stdcall <span class="hl kwd">getHeight</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Dimension request for height when loading the file.</p>
</div>
<div class="paragraph">
<p><a href="#_loadbasicdata"><code>loadBasicData()</code></a> has been called by the application before using this function to ensure that this information is present.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The height of the image that is to be loaded in Pixels or -1 if the function fails.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_getimagecount"><a class="anchor" href="#_getimagecount"></a>getImageCount()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getImageCount<span class="hl opt">:</span> <span class="hl kwb">integer</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">int</span>   __stdcall <span class="hl kwd">getImageCount</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This function has to return the number of frames available to load from the file.
If the file is just a single image then &#8220;1&#8221; is to be returned.</p>
</div>
<div class="paragraph">
<p><a href="#_loadbasicdata"><code>loadBasicData()</code></a> has been called by the application before using this function to ensure that this information is present.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of frames of the image/animation that is to be loaded or -1 on failure.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_canextractpalette"><a class="anchor" href="#_canextractpalette"></a>canExtractPalette()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> canExtractPalette<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>   __stdcall <span class="hl kwd">canExtractPalette</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The application may support functions to load the color palette from a graphic file without loading the graphic/bitmap data.
It uses this function to determine if the plugin can be used there as well.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the plugin supports palette reading then this function must return <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_getrgbpalette"><a class="anchor" href="#_getrgbpalette"></a>getRgbPalette()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getRgbPalette<span class="hl opt">:</span> <span class="hl kwb">pointer</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">unsigned char</span><span class="hl opt">*</span> __stdcall <span class="hl kwd">getRgbPalette</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the plugin can extract the palette data then this function must return the palette with 768 bytes defining the 256 color values as RGB (one byte per channel).
The palette bytes are RGBRGBRGB and each RGB-tripel defines the corresponding color palette entry starting with &#8220;0&#8221;.</p>
</div>
<div class="paragraph">
<p><a href="#_loadbasicdata"><code>loadBasicData()</code></a> has been called by the application before using this function to ensure that this information is present.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The RGB palette or <code>nil</code>/<code>NULL</code> if not supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_gettransparentcolor"><a class="anchor" href="#_gettransparentcolor"></a>getTransparentColor()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> getTransparentColor<span class="hl opt">:</span> <span class="hl kwb">integer</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">int</span>   __stdcall <span class="hl kwd">getTransparentColor</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the image contains a transparent color then this function must return it.</p>
</div>
<div class="paragraph">
<p><a href="#_loadbasicdata"><code>loadBasicData()</code></a> has been called by the application before using this function to ensure that this information is present.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The transparent color (pixel byte) or -1 if there is no transparent color.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_isalphaenabled"><a class="anchor" href="#_isalphaenabled"></a>isAlphaEnabled()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> isAlphaEnabled<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">isAlphaEnabled</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Does the image/animation file contain alpha transparency data?</p>
</div>
<div class="paragraph">
<p><a href="#_loadbasicdata"><code>loadBasicData()</code></a> has been called by the application before using this function to ensure that this information is present.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the image contains alpha data then this function must return <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_loadnextimage"><a class="anchor" href="#_loadnextimage"></a>loadNextImage()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> <span class="hl kwd">loadNextImage</span><span class="hl opt">(</span> colorFrame<span class="hl opt">,</span>&#x000A;                        colorFramePalette<span class="hl opt">,</span>&#x000A;                        alphaFrame<span class="hl opt">,</span>&#x000A;                        alphaFramePalette<span class="hl opt">:</span> <span class="hl kwb">Pointer</span><span class="hl opt">;</span>&#x000A;                        <span class="hl kwa">var</span> delayMs<span class="hl opt">:</span> <span class="hl kwb">word</span>&#x000A;<span class="hl opt">):</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">loadNextImage</span><span class="hl opt">(</span> <span class="hl kwb">unsigned char</span><span class="hl opt">*</span>  colorFrame<span class="hl opt">,</span>&#x000A;                               <span class="hl kwb">unsigned char</span><span class="hl opt">*</span>  colorFramePalette<span class="hl opt">,</span>&#x000A;                               <span class="hl kwb">unsigned char</span><span class="hl opt">*</span>  alphaFrame<span class="hl opt">,</span>&#x000A;                               <span class="hl kwb">unsigned char</span><span class="hl opt">*</span>  alphaFramePalette<span class="hl opt">,</span>&#x000A;                               <span class="hl kwb">unsigned short</span><span class="hl opt">*</span> delayMs&#x000A;<span class="hl opt">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the plugin supports reading then this function is used to load the image data.
After reading this data the plugin must advance to the next frame, if any.
The function will be called according to the number of frames returned by <a href="#_getimagecount"><code>getImageCount()</code></a>.</p>
</div>
<div class="paragraph">
<p><a href="#_loadbasicdata"><code>loadBasicData()</code></a> has been called by the application before using this function to ensure that this information is present.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>colorFrame</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the bitmap to hold the color pixels (color palette indexes).
  The memory portion has a size of <code>getWidth</code> * <code>getHeight</code> bytes!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>colorFramePalette</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the RGB color table.
  There are 768 bytes being 256 colors with one byte for red, green and blue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>alphaFrame</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the bitmap to hold the alpha palette indexes.
  The memory portion has a size of <code>getWidth</code> * <code>getHeight</code> bytes!
  If alpha is not supported then this value is <code>nil</code>/<code>NULL</code> and must not be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>alphaFramePalette</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the alpha value table.
  There are 256 bytes.
  Each byte is an alpha value ranging from 0 to 255.
  If alpha is not supported then this value is <code>nil</code>/<code>NULL</code> and must not be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>delayMs</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the frame has a delay value (animation only) then it must be given here as milliseconds.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the data was transfered successfuly then <code>true</code> is to be returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_beginwrite"><a class="anchor" href="#_beginwrite"></a>beginWrite()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> <span class="hl kwd">beginWrite</span><span class="hl opt">(</span>&#x000A;    width<span class="hl opt">,</span> height<span class="hl opt">,</span> transparentColor<span class="hl opt">:</span> <span class="hl kwb">integer</span><span class="hl opt">;</span>&#x000A;    alphaEnabled<span class="hl opt">:</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span>&#x000A;    numberOfFrames<span class="hl opt">:</span> <span class="hl kwb">integer</span>&#x000A;<span class="hl opt">):</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">beginWrite</span><span class="hl opt">(</span>&#x000A;    <span class="hl kwb">int</span> width<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">int</span> height<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">int</span> transparentColor<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">bool</span> alphaEnabled<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">int</span> numberOfFrames&#x000A;<span class="hl opt">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Before writing graphic data this function is called once by the application to define dimensions of the data that will be stored.
The file may stay opened until <a href="#_finishprocessing"><code>finishProcessing()</code></a> is called.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>width</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Width of the graphic (images)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>height</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Height of the graphic (images)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>transparentColor</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If a transparent color is used then it is given here or -1 otherwise</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>alphaEnabled</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the graphic will store alpha data then this flag is set to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>numberOfFrames</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of frames that will be written</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> on success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_writenextimage"><a class="anchor" href="#_writenextimage"></a>writeNextImage()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">function</span> <span class="hl kwd">writeNextImage</span><span class="hl opt">(</span>&#x000A;    colorFrame<span class="hl opt">,</span> colorFramePalette<span class="hl opt">,</span> alphaFrame<span class="hl opt">,</span> alphaFramePalette<span class="hl opt">:</span> <span class="hl kwb">Pointer</span><span class="hl opt">;</span>&#x000A;    delayMs<span class="hl opt">:</span> <span class="hl kwb">word</span>&#x000A;<span class="hl opt">):</span> <span class="hl kwb">boolean</span><span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">bool</span>  __stdcall <span class="hl kwd">writeNextImage</span><span class="hl opt">(</span>&#x000A;    <span class="hl kwb">unsigned char</span><span class="hl opt">*</span> colorFrame<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">unsigned char</span><span class="hl opt">*</span> colorFramePalette<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">unsigned char</span><span class="hl opt">*</span> alphaFrame<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">unsigned char</span><span class="hl opt">*</span> alphaFramePalette<span class="hl opt">,</span>&#x000A;    <span class="hl kwb">unsigned short</span> delayMs&#x000A;<span class="hl opt">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If the plugin supports writing then this function is used to save the image data.
The function will be called as often as there are more frames to be stored.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>colorFrame</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the bitmap having the color pixels (color palette indexes).
  The memory portion has a size width * height bytes!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>colorFramePalette</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the RGB color table.
  There are 768 bytes being 256 colors with one byte for red, green and blue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>alphaFrame</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the bitmap having the alpha palette indexes.
  The memory portion has a size of width * height bytes!
  If alpha is not supported then this value is nil and must not be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>alphaFramePalette</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the alpha value table.
  There are 256 bytes.
  Each byte is an alpha value ranging from 0 to 255.
  If alpha is not supported then this value is <code>nil</code>/<code>NULL</code> and must not be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>rgba</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A pointer to the bitmap having the color pixels as dword per pixel RGBA where the lowest byte is the red channel.
  The memory portion has a size width * height * 4 bytes!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>width</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Width in pixels of the image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>height</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Height in pixels of the image</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>delayMs</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the frame has a delay value (animation only) then it is given here as milliseconds.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the data was transfered successfuly then <code>true</code> is to be returned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_finishprocessing"><a class="anchor" href="#_finishprocessing"></a>finishProcessing()</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="delphi"><code class="language-delphi" data-lang="delphi"><span class="hl kwa">procedure</span> finishProcessing<span class="hl opt">;</span> <span class="hl kwa">stdcall</span><span class="hl opt">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="cpp"><code class="language-cpp" data-lang="cpp"><span class="hl kwb">void</span>  __stdcall <span class="hl kwd">finishProcessing</span><span class="hl opt">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This function is called if the read or write operation is finished.
The plugin must then close the file that was processed.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Control</caption>
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 85.7143%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">May set error</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sample_file_io_plugins"><a class="anchor" href="#_sample_file_io_plugins"></a>Sample File I/O Plugins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The sample file filters are two file i/o plugins to read and write a very simple image and animation file type.
Both plugins come with full C++ source as MS Visual Studio project.</p>
</div>
<div class="paragraph">
<p>Download Docs &amp; Sample Sources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.cosmigo.com/wp-content/uploads/file_io_plugin_samples.zip"><code>file_io_plugin_samples.zip</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To see plugins working you can copy the precompiled DLLs <code>sanAnimIo.dll</code> and <code>simImgIo.dll</code> from the <code>Release</code> subfolder of the just downloaded and extracted zip to the <code>plugins</code> subfolder within your Pro Motion installation.
After restarting pro motion you will have a new image file type &#8220;SIM Sample Image&#8221; and a new animation file type &#8220;SAN Sample Animation&#8221;.
They can be found at all usual image or animation load/save functions where you can select file types.</p>
</div>
<div class="paragraph">
<p>The file format specification is very simple for both file types.</p>
</div>
<div class="sect2">
<h3 id="_sim_file_format"><a class="anchor" href="#_sim_file_format"></a>SIM file format</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 6.6666%;">
<col style="width: 26.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Position (bytes)</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$00</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 ASCII-chars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File type specifier: <code>SIMG</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$04</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version, currently set to 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$05</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DoubleWord</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image width in pixels.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$09</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DoubleWord</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image height in pixels.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$0d</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transparent color or -1 of not defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$11</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alpha layer enabled/present.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$12</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256*3 Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The 256 color table with the values Red, Green, Blue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$312</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256 Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The 256 alpha value table if alpha is enabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">width * height Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The image color pixels.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">width * height Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The image alpha references if alpha is enabled.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_san_file_format"><a class="anchor" href="#_san_file_format"></a>SAN file format</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Parameters</caption>
<colgroup>
<col style="width: 6.6666%;">
<col style="width: 26.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Position (bytes)</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$00</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 ASCII-chars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File type specifier: <code>SANM</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$04</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version, currently set to 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$05</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DoubleWord</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image width in pixels.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$09</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DoubleWord</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image height in pixels.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$0d</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transparent color or -1 of not defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$11</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alpha layer enabled/present.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$12</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DoubleWord</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of frames.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$16</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256*3 Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The 256 color table with the values Red, Green, Blue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><code>$316</code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256 Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The 256 alpha value table if alpha is enabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock">For every frame the following data is included:</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Word</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delay in milliseconds before the next frame may be displayed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">width * height Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The image color pixels.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">width * height Bytes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The image alpha references if alpha is enabled.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_manipulation_plugin_interface"><a class="anchor" href="#_manipulation_plugin_interface"></a>Manipulation Plugin Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The basic idea of this interface is to exchange image/animation data between the host application (Pro Motion) and external programs (plugins).
A plugin can access all basic project data, image and color palette contents.
Data is exchanged using the Windows DDE (Dynamic Data Exchange) that allows an interprocess communication based on simple messages.
Pro Motion contains a DDE-server and a plugin works as a DDE client sending command strings.
For further information on how to program a DDE conversation please have a look at <a href="https://docs.microsoft.com/en-us/windows/desktop/dataxchg/dynamic-data-exchange" target="_blank" rel="noopener">Microsoft&#8217;s development documentations</a>.</p>
</div>
<div class="paragraph">
<p>Download Docs &amp; Sample Sources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.cosmigo.com/wp-content/uploads/dde_plugin_sample.zip"><code>dde_plugin_sample.zip</code></a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The plugin interface description and sample application package contains a complete documentation about plugin commands and how they have to be used.
The sample application shows the use of all available commands.
This program was developed with
<a href="https://edn.embarcadero.com/article/41593" target="_blank" rel="noopener">Embarcadero Delphi XE2</a>
but might also be used for other versions of
<a href="https://www.embarcadero.com/products/delphi" target="_blank" rel="noopener">Delphi</a>.
There is also a small documentation for how to create DDE data transfer using Microsoft C/C++ APIs.</p>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>This document was ported to AsciiDoc by
<a href="https://github.com/tajmone" target="_blank" rel="noopener">Tristano Ajmone</a>
and republished with the author&#8217;s permission under the
<a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank" rel="noopener">Apache License v2.0</a> terms.
Beside aesthetic tweaks and some marginal text changes, this document is a faithful reproduction of the
<a href="https://www.cosmigo.com/pixel_animation_software/plugins/developer-interface" target="_blank" rel="noopener">original article on Cosmigo website</a>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
revision 1.0.0<br>
</div>
</div>
</body>
</html>